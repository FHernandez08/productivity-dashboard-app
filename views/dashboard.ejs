<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/dashboard.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/main.min.css" rel="stylesheet" />

    <script src="https://kit.fontawesome.com/f489890540.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/index.global.min.js" defer></script>
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let calendarEl = document.getElementById('week-calendar');
            let calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridWeek',
                headerToolbar: {
                    left: 'prev, next',
                    center: 'title',
                    right: 'dayGridWeek, dayGridDay'
                },
                editable: true,
                height: "auto"
            })
            calendar.render();
        })
    </script>
</head>
<body>
    <header>
        <%- include('partials/header.ejs') %>
    </header>

    <main>
        <!--Each page would not be shown until the user is either logged in or registering their account-->
        <!--Use EJS to be able to determine if the user is logged in  (user) -->
        <div class="container py-4">
            <div class="dashboard-layout">
                <!-- Row 1-->
                <div class="welcome-box">
                    <h1>Welcome, (name)!</h1>
                    <p>Here is a brief details about your producitivty, to learn more, click on the links to access more.</p>
                </div>
                <div id="week-calendar" class="week-calendar"></div>
            
                <!-- Row 2 & 3 -->
                <div id="tasks">
                    <h3>Upcoming Tasks</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Task Name</th>
                                <th>Due Date</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!--Will add all the current tasks up to 5 tasks to not take up the whole section-->
                        </tbody>
                    </table>
                    <a href="/tasks">
                        <button type="button" class="btn btn-outline-secondary">More Tasks...</button>
                    </a>
                </div>
                <div id="journal">
                    <h3>Recent Journal Entries</h3>
                    <div id="journal-recents">
                        <!--This will be used to add the three recent journal entries which will be cards on this page-->
                    </div>
                    <a href="/journal">
                        <button type="button" class="btn btn-outline-secondary">To Journal</button>
                    </a>
                </div>
                <div id="extras">
                    <div id="quote">
                        <h5>Motivational quote of the day!</h5>
                    </div>
                    <div id="time-weather">
                        <h5>Current time and weather</h5>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <%- include('partials/footer.ejs') %>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>